<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />

    <title>Datos solicitud</title>
    <meta content="" name="description" />
    <meta content="" name="keywords" />

    <!-- Favicons -->
    <link href="/src/assets/img/favicon.png" rel="icon" />
    <link href="/assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Roboto:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
      rel="stylesheet"
    />

    <!-- Vendor CSS Files -->
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" />
    <link href="/src/assets/css/style.css" rel="stylesheet" />
  </head>

  <body>
    <section style="background-color: rgb(255, 255, 255); margin-top: 140px" id="services" class="services section-bg">
      <div class="container animate__animated animate__fadeInDown">
        <div class="row justify-content-center" style="border: solid; border-radius: 2vh; border-color: rgb(255, 255, 255); box-shadow: -5px 6px 20px 0px rgba(0, 0, 0, 0.753)">
          <div class="col-12 col-md-8 col-lg-8 col-xl-6">
            <div class="row">
              <div class="text-center mt-4">
                <!-- <img src="https://i.imgur.com/noigPmr.png" height="100" width="130" alt="" /> -->
                <h1>Datos del Automóvil</h1>
              </div>
            </div>

            <!-- form -->
            <form [formGroup]="this.automovilForm">
              <div>
                <div class="text-center mt-4">
                  <img id="imagePreview" [src]="getImage()" height="100%" width="300" alt="" />
                </div>
                <div class="text-center mt-4" *ngIf="this.getUserType() === 'Admin'">
                  <button class="custom-button inf w-25" id="searchButton" type="button" (click)="this.navigateToEdit()">Editar</button>
                </div>
                <div class="row no-gutters form-floating">
                  <div class="col-12 form-floating mt-4 col-md mr-2">
                    <input class="custom-input form-control" id="placasInput" readonly placeholder="" formControlName="PLACAS" />
                    <label for="placasInput">Placas</label>
                  </div>
                  <div class="col-12 form-floating mt-4 col-md mr-2">
                    <input class="custom-input form-control" id="tipoAutomovilInput" readonly placeholder="" formControlName="TIPO_AUTOMOVIL" />
                    <label for="tipoAutomovilInput">Tipo de Automóvil</label>
                  </div>
                  <div class="col-12 form-floating mt-4 col-md">
                    <input class="custom-input form-control" id="marcaInput" readonly placeholder="" formControlName="MARCA" />
                    <label for="marcaInput">Marca del Automóvil</label>
                  </div>
                </div>
                <div class="row no-gutters form-floating">
                  <div class="col-12 form-floating mt-4 col-md mr-2">
                    <input class="custom-input form-control" id="modelInput" readonly placeholder="" formControlName="MODELO" />
                    <label for="modelInput">Sub-Marca del Automóvil</label>
                  </div>
                  <div class="col-12 form-floating mt-4 col-md mr-2">
                    <input class="custom-input form-control" id="colorInput" readonly placeholder="" formControlName="COLOR" />
                    <label for="colorInput">Color</label>
                  </div>
                  <div class="col-12 form-floating mt-4 col-md">
                    <input class="custom-input form-control" id="numeroSerieInput" readonly placeholder="" formControlName="NUMERO_SERIE" />
                    <label for="numeroSerieInput">Numero de Serie</label>
                  </div>
                </div>
                <div class="row no-gutters form-floating">
                  <div class="col-12 form-floating mt-4 col-md">
                    <input class="custom-input form-control" id="departmentoInput" readonly placeholder="" formControlName="DEPARTAMENTO" />
                    <label for="departmentoInput">Departamento</label>
                  </div>
                </div>
              </div>
            </form>

            <!-- return button -->
            <div class="row justify-content-center mt-4">
              <button class="custom-button return w-25" type="button" (click)="this.navigateToList()">Volver</button>
            </div>

            <!-- buttons -->
            <div class="row no-gutters form-floating mt-4">
              <div class="col-12 col-md mr-2 mt-2" *ngIf="this.getUserType() === 'Admin' || this.getUserType() === 'Servicio'">
                <button class="custom-button submit" id="registrarServicioButton" type="button" data-bs-toggle="modal" data-bs-target="#registerServiceModal">Registrar Servicio</button>
              </div>
              <div class="col-12 col-md mr-2 mt-2" *ngIf="this.getUserType() === 'Admin' || this.getUserType() === 'Aseguranza'">
                <button class="custom-button submit" id="registrarAseguranzaButton" type="button" data-bs-toggle="modal" data-bs-target="#registerInsuranceModal">Registrar Aseguranza</button>
              </div>
              <div class="col-12 col-md mt-2" *ngIf="this.getUserType() === 'Admin' || this.getUserType() === 'Combustible'">
                <button class="custom-button submit" id="registrarCombustibleButton" type="button" data-bs-toggle="modal" data-bs-target="#registerFuelModal">Registrar Combustible</button>
              </div>
            </div>

            <!-- table services -->
            <div class="mt-4">
              <div class="row no-gutters form-floating" *ngIf="this.getUserType() === 'Admin' || this.getUserType() === 'Servicio'">
                <div class="col mt-4">
                  <h3 class="text-center">Servicios</h3>
                  <table class="table table-striped table-hover text-center table-bordered">
                    <thead>
                      <tr>
                        <th scope="col">No.</th>
                        <th scope="col">Fecha</th>
                        <th scope="col">Descripción</th>
                        <th scope="col">Kilometraje</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let servicio of this.servicios | paginate: { itemsPerPage: 3, currentPage: this.currentPage.servicios, id: 'servicesTable' }; let i = index">
                        <td class="align-middle">{{ (currentPage.servicios - 1) * 3 + (i + 1) }}</td>
                        <td class="align-middle">{{ servicio.FECHA }}</td>
                        <td class="align-middle">{{ servicio.DESCRIPCION }}</td>
                        <td class="align-middle">{{ servicio.KILOMETRAJE }}</td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="d-flex justify-content-center">
                    <pagination-controls id="servicesTable" (pageChange)="this.currentPage.servicios = $event" previousLabel="Anterior" nextLabel="Siguiente"></pagination-controls>
                  </div>
                </div>
              </div>

              <!-- table insurances -->
              <div class="row no-gutters form-floating" *ngIf="this.getUserType() === 'Admin' || this.getUserType() === 'Aseguranza'">
                <div class="col mt-4">
                  <h3 class="text-center">Aseguranzas</h3>
                  <table class="table table-striped table-hover text-center table-bordered">
                    <thead>
                      <tr>
                        <th scope="col">No.</th>
                        <th scope="col">Fecha</th>
                        <th scope="col">Descripción</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let aseguranza of this.aseguranzas | paginate: { itemsPerPage: 3, currentPage: this.currentPage.aseguranzas, id: 'insurancesTable' }; let i = index">
                        <td class="align-middle">{{ (currentPage.aseguranzas - 1) * 3 + (i + 1) }}</td>
                        <td class="align-middle">{{ aseguranza.FECHA }}</td>
                        <td class="align-middle">{{ aseguranza.DESCRIPCION }}</td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="d-flex justify-content-center">
                    <pagination-controls id="insurancesTable" (pageChange)="this.currentPage.aseguranzas = $event" previousLabel="Anterior" nextLabel="Siguiente"></pagination-controls>
                  </div>
                </div>
              </div>

              <!-- table fuel -->
              <div class="row no-gutters form-floating" *ngIf="this.getUserType() === 'Admin' || this.getUserType() === 'Combustible'">
                <div class="col mt-4">
                  <h3 class="text-center">Combustible</h3>
                  <table class="table table-striped table-hover text-center table-bordered">
                    <thead>
                      <tr>
                        <th scope="col">No.</th>
                        <th scope="col">Fecha</th>
                        <th scope="col">Folio</th>
                        <th scope="col">Tipo de Combustible</th>
                        <th scope="col">Litros</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let combustible of this.combustibles | paginate: { itemsPerPage: 3, currentPage: this.currentPage.combustible, id: 'fuelsTable' }; let i = index">
                        <td class="align-middle">{{ (currentPage.combustible - 1) * 3 + (i + 1) }}</td>
                        <td class="align-middle">{{ combustible.FECHA }}</td>
                        <td class="align-middle">{{ combustible.FOLIO }}</td>
                        <td class="align-middle">{{ combustible.TIPO_COMBUSTIBLE }}</td>
                        <td class="align-middle">{{ combustible.LITROS }}</td>
                      </tr>
                    </tbody>
                  </table>
                  <div class="d-flex justify-content-center">
                    <pagination-controls id="fuelsTable" (pageChange)="this.currentPage.combustible = $event" previousLabel="Anterior" nextLabel="Siguiente"></pagination-controls>
                  </div>
                </div>
              </div>
            </div>

            <!-- return button -->
            <div class="row justify-content-center mt-4 mb-5">
              <button class="custom-button return w-25" id="returnButton" type="button" (click)="this.navigateToList()">Volver</button>
            </div>
          </div>
        </div>
      </div>

      <!-- modals -->
      <app-servicio *ngIf="this.getUserType() === 'Admin' || this.getUserType() === 'Servicio'" />
      <app-aseguranza *ngIf="this.getUserType() === 'Admin' || this.getUserType() === 'Aseguranza'" />
      <app-combustible *ngIf="this.getUserType() === 'Admin' || this.getUserType() === 'Combustible'" />
    </section>
  </body>
</html>
